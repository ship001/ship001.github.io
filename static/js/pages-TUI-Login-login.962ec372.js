(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-TUI-Login-login"],{"1fe4":function(t,e,i){"use strict";i.r(e);var n=i("d6b6"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"45ca":function(t,e,i){"use strict";var n=i("b8e2"),a=i.n(n);a.a},"5e07":function(t,e,i){"use strict";i.r(e);var n=i("b58d"),a=i("1fe4");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("45ca");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"1490708c",null,!1,n["a"],r);e["default"]=c.exports},"7b8d":function(t,e,i){"use strict";var n=i("4ea4");i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.isTokenValided=c,e.setTokenStorage=l,e.getTokenStorage=d,e.removeTokenStorage=u;var a=n(i("1b30")),o="token",r=2592e6,s=getApp();function c(t){return Date.now()<=t}function l(t){return a.default.log("TUIKit | TUI-utils | setTokenStorage | options:".concat(t)),new Promise((function(e,i){var n={expiresIn:Date.now()+r,userInfo:{token:t.userInfo.token,phone:t.userInfo.phone,userID:t.userInfo.userID,userSig:t.userInfo.userSig}};s||(s=getApp()),s.globalData.expiresIn=n.expiresIn,wx.setStorage({key:o,data:n,success:e,fail:i})}))}function d(){return new Promise((function(t,e){wx.getStorage({key:o,success:function(e){var i=e.data;t(i)},fail:e})}))}function u(){return new Promise((function(t,e){wx.removeStorage({key:o,success:t,fail:e})}))}},"962e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".container[data-v-1490708c]{width:100vw;height:100vh;background-color:#f4f5f9;position:fixed;top:0;right:0;left:0;bottom:0}.counter-warp[data-v-1490708c]{position:absolute;top:0;right:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center}.background-image[data-v-1490708c]{width:100%}.header-content[data-v-1490708c]{display:flex;width:100vw;padding:40px 20px;box-sizing:border-box;top:%?100?%;align-items:center}.header-content>uni-image[data-v-1490708c]{width:128px;height:84px}.header-content>.icon[data-v-1490708c]{width:76px;height:50px}.text[data-v-1490708c]{text-align:left;padding-left:%?40?%}.text-header[data-v-1490708c]{height:%?72?%;font-size:%?48?%;line-height:%?72?%;color:#fff}.text-content[data-v-1490708c]{height:%?36?%;font-size:%?24?%;line-height:%?36?%;color:#fff}.box[data-v-1490708c]{width:80%;height:50vh;position:relative;background:#fff;border-radius:4px;border-radius:4px;display:flex;flex-direction:column;justify-content:left;padding:30px 20px}.input-label[data-v-1490708c]{display:flex;align-items:center;font-size:18px;color:#006eff;letter-spacing:0;font-weight:500;padding-right:16px;color:#006eff}.input[data-v-1490708c]{flex:1;display:flex;font-family:PingFangSC-Regular;font-size:14px;color:rgba(0,0,0,.8);letter-spacing:0}.login[data-v-1490708c]{display:flex;box-sizing:border-box;margin-top:15px;width:100%}.login uni-button[data-v-1490708c]{background:#006eff;border-radius:30px;font-size:16px;color:#fff;letter-spacing:0;\r\n\t/* text-align: center; */font-weight:500}.loginBtn[disabled][data-v-1490708c]{color:#fff!important;background:rgba(0,110,255,.3)!important}.loginBtn[data-v-1490708c]{margin-top:64px;background-color:#fff;border-radius:24px;border-radius:24px;\r\n\t/* display: flex;\r\n  justify-content: center; */width:100%!important;font-family:PingFangSC-Regular;font-size:16px;color:#fff;letter-spacing:0}.codeBtn[data-v-1490708c]{background:#006eff;border:0;font-size:12px;border-radius:15px;color:#fff;letter-spacing:0;line-height:14px;font-weight:400;padding:7px}.codeBtn[disabled][data-v-1490708c]{background:#fff!important}.btn[data-v-1490708c]{width:%?180?%;color:#006eff;background-color:#fff;align-items:center}.close[data-v-1490708c]{position:absolute;padding-left:5vw;padding-right:5vw;width:%?50?%;height:%?60?%}.private-protocol-box[data-v-1490708c]{display:flex;align-items:center;width:80vw;font-size:10px;color:#bbb;letter-spacing:0;line-height:14px;font-weight:400}.private-protocol-switch[data-v-1490708c]{width:14px;height:14px;margin-right:4px}.private-protocol-switch uni-image[data-v-1490708c]{width:100%;height:100%;border-radius:25%;border-radius:25%;padding-top:5px;padding-right:10px}.text-box[data-v-1490708c]{padding-top:10px;width:100%;font-family:PingFangSC-Regular;font-size:12px;color:#666;letter-spacing:0}.link[data-v-1490708c]{color:#006eff}.select-pick[data-v-1490708c]{width:100%;height:300px;background:#fff;position:fixed}.show[data-v-1490708c]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:#f4f5f9;position:relative;z-index:0}\r\n\r\n/* .show-warp {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 536rpx;\r\n  z-index: -1;\r\n} */.User-ID[data-v-1490708c]{font-family:PingFangSC-Medium;font-size:14px;color:#333;letter-spacing:0;margin-top:5px}.User-ID-box[data-v-1490708c]{border-bottom:1px solid #eee;font-size:14px}.Log-box[data-v-1490708c]{width:80%;height:50vh;position:relative;background:#fff;border-radius:4px;border-radius:4px;display:flex;flex-direction:column;justify-content:left;padding:50px 20px;margin-left:20px}.background-image2[data-v-1490708c]{width:100%}.logout[data-v-1490708c]{display:flex;box-sizing:border-box;margin-top:15px;width:100%}.login uni-button[data-v-1490708c]{background:#006eff;border-radius:30px;font-size:16px;color:#fff;letter-spacing:0;\r\n\t/* text-align: center; */font-weight:500}.logoutBtn[data-v-1490708c]{background-color:#fff;border-radius:24px;border-radius:24px;\r\n\t/* display: flex;\r\n  justify-content: center; */width:100%!important}.btn-logout-text[data-v-1490708c]{font-family:PingFangSC-Regular;font-size:16px;color:red;letter-spacing:0}.list-item[data-v-1490708c]{display:flex;flex-direction:column;font-family:PingFangSC-Medium;font-size:14px;color:#333;border-bottom:1px solid #eef0f3}.list-item .list-item-label[data-v-1490708c]{font-weight:500;padding:10px 0}.list-item .list-item-main[data-v-1490708c]{padding:6px 0;color:#999;display:flex;align-items:center}",""]),t.exports=e},b58d:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-image",{staticClass:"background-image",attrs:{src:"/static/static/assets/background.svg"}}),i("v-uni-view",{staticClass:"counter-warp"},[i("v-uni-view",{staticClass:"header-content"},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/static/images/im.png"}}),i("v-uni-view",{staticClass:"text"},[i("v-uni-view",{staticClass:"text-header"},[t._v("登录 · 即时通信")]),i("v-uni-view",{staticClass:"text-content"},[t._v("体验群组聊天，视频对话等IM功能")])],1)],1),i("v-uni-view",{staticClass:"box"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"list-item"},[i("v-uni-label",{staticClass:"list-item-label"},[t._v("用户ID")]),i("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入用户名","placeholder-style":"color:#BBBBBB;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.bindUserIDInput.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"private-protocol-box"},[i("v-uni-view",{staticClass:"private-protocol-switch",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onAgreePrivateProtocol.apply(void 0,arguments)}}},[t.privateAgree?i("v-uni-image",{attrs:{src:"/static/static/images/selected.png","lazy-load":"true"}}):i("v-uni-image",{attrs:{src:"/static/static/images/select.png","lazy-load":"true"}})],1),i("v-uni-view",{staticClass:"text-box"},[i("v-uni-text",[t._v("我已阅读并同意")]),i("v-uni-text",{staticClass:"link",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkToPrivacyTreaty.apply(void 0,arguments)}}},[t._v("《隐私条例》")]),i("v-uni-text",[t._v("和")]),i("v-uni-text",{staticClass:"link",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.linkToUserAgreement.apply(void 0,arguments)}}},[t._v("《用户协议》")])],1)],1),i("v-uni-view",{staticClass:"login"},[i("v-uni-button",{staticClass:"loginBtn",attrs:{disabled:!t.privateAgree},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("登录")])],1)],1)],1)],1)},o=[]},b8e2:function(t,e,i){var n=i("962e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("5f5a49ee",n,!0,{sourceMap:!1,shadowMode:!1})},d6b6:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("7b8d"),o=n(i("1b30")),r=i("cb3b"),s=i("7b8d"),c=(s.getTokenStorage,getApp()),l={data:function(){return{userID:"",hidden:!1,btnValue:"获取验证码",btnDisabled:!1,privateAgree:!1,phone:"",code:"",sessionID:"",second:60,path:"",lastTime:0,countryIndicatorStatus:!1,country:"86",indicatorValue:46,headerHeight:c.globalData.headerHeight,statusBarHeight:c.globalData.statusBarHeight,showlogin:!1}},components:{},props:{},onLoad:function(t){var e=this;this.setData({path:t.path}),uni.getStorage({key:"sessionID",success:function(t){e.setData({sessionID:t.data})}}),uni.setStorage({key:"path",data:t.path})},onShow:function(){},methods:{loginWithToken:function(){uni.switchTab({url:"../TUI-Index/index"})},onBack:function(){uni.navigateTo({url:"../TUI-Index/TUI-Index"})},bindUserIDInput:function(t){var e=t.detail.value;this.setData({userID:e})},onAgreePrivateProtocol:function(){this.setData({privateAgree:!this.privateAgree})},linkToPrivacyTreaty:function(){var t="https://web.sdk.qcloud.com/document/Tencent-IM-Privacy-Protection-Guidelines.html";uni.navigateTo({url:"../TUI-User-Center/webview/webview?url=".concat(t,"&nav=Privacy-Protection")})},linkToUserAgreement:function(){var t="https://web.sdk.qcloud.com/document/Tencent-IM-User-Agreement.html";uni.navigateTo({url:"../TUI-User-Center/webview/webview?url=".concat(t,"&nav=User-Agreement")})},login:function(){var t=this.userID,e=(0,r.genTestUserSig)(t).userSig,i=c.globalData.SDKAppID;o.default.log("TUI-login | login  | userSig:".concat(e," userID:").concat(t)),uni.$aegis.reportEvent({name:"platform",ext1:"platform-H5",ext2:"uniTuikitExternal",ext3:"".concat(i)}),uni.showToast({title:"TUIKit 暂不支持 H5 / web ，请使用者自己完成兼容哦～ ",icon:"none",duration:3e3}),c.globalData.userInfo={userSig:e,userID:t},(0,a.setTokenStorage)({userInfo:c.globalData.userInfo}),wx.setStorageSync("TIM_".concat(getApp().SDKAppID,"_isTUIKit"),!0),uni.$TUIKit.login({userID:t,userSig:e}).then((function(){uni.$aegis.reportEvent({name:"login",ext1:"login-success",ext2:"uniTuikitExternal",ext3:"".concat(i)})})).catch((function(t){uni.$aegis.reportEvent({name:"login",ext1:"login-failed#error:".concat(t),ext2:"uniTuikitExternal",ext3:"".concat(i)})})),this.path&&"undefined"!==this.path?uni.redirectTo({url:this.path}):uni.switchTab({url:"/pages/index/index"})}}};e.default=l}}]);