(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-TUI-User-Center-cancel-cancel"],{"499f":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return n}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"main"},[a("v-uni-image",{staticClass:"image",attrs:{src:"/static/static/images/cancellation.png"}}),a("v-uni-text",{attrs:{selectable:"false",space:"false",decode:"false"}},[e._v("注销后，您将无法使用当前账号，相关数据也将删除无法找回。当前账户："+e._s(e.userInfo.userID))]),a("v-uni-view",{staticClass:"cancellation",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleCancellation.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"confirm-cancellation"},[e._v("确认注销")])],1)],1)],1),e.toggle?a("v-uni-view",{staticClass:"mask",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"popup"},[a("v-uni-view",{staticClass:"popup-main"},[a("v-uni-text",[e._v("确定要注销账户吗?")])],1),a("v-uni-view",{staticClass:"popup-footer"},[a("v-uni-button",{staticClass:"submit",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("注销")]),a("v-uni-button",{staticClass:"cancel",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)],1):e._e()],1)},i=[]},5538:function(e,t,a){"use strict";a.r(t);var n=a("499f"),o=a("67c4");for(var i in o)"default"!==i&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("f891");var c,r=a("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"41bc988a",null,!1,n["a"],c);t["default"]=s.exports},"5da9":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".image[data-v-41bc988a]{display:flex;width:64px;height:64px;margin-top:20px}.container[data-v-41bc988a]{background:#f4f5f9;background-repeat:no-repeat;background-size:cover;width:100vw;height:100vh;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;box-sizing:border-box}.container .title[data-v-41bc988a]{position:relative;width:100vw;font-size:18px;color:#000;letter-spacing:0;text-align:center;line-height:28px;font-weight:600;background:#fff;margin-top:3.8vh;padding:1.2vh 0}.btn-goback[data-v-41bc988a]{position:absolute;left:2vw;top:1.2vh;width:8vw;height:8vw;z-index:9}.container .main[data-v-41bc988a]{padding:30px;display:flex;flex-direction:column;justify-content:center;align-items:center}.container .main uni-text[data-v-41bc988a]{text-align:left;font-family:PingFangSC-Regular;font-size:14px;color:#999;letter-spacing:0}.container .main .account[data-v-41bc988a]{padding:20px 0;color:#999}.container .main uni-button[data-v-41bc988a]{width:100%;background:#006eff}.mask[data-v-41bc988a]{position:fixed;top:0;\r\ntop:calc(%?88?% + constant(safe-area-inset-top));top:calc(%?88?% + env(safe-area-inset-top));\r\nleft:0;z-index:10;width:100vw;height:100vh;display:flex;justify-content:center;align-items:flex-end;background:rgba(0,0,0,.3)}.popup[data-v-41bc988a]{background:#fff;width:100%;overflow:hidden}.popup-main[data-v-41bc988a]{height:56px;padding:%?60?% 0;text-align:center;font-family:PingFangSC-Regular;font-size:14px;color:#999;letter-spacing:0;text-align:center;line-height:18px}.popup-footer[data-v-41bc988a]{display:flex}.popup-footer uni-button[data-v-41bc988a]{flex:1}.popup-footer .cancel[data-v-41bc988a]{font-family:PingFangSC-Regular;font-size:16px;color:#000;letter-spacing:0;text-align:center;line-height:22px}.popup-footer .submit[data-v-41bc988a]{font-family:PingFangSC-Regular;font-size:16px;color:#e85454;letter-spacing:0;text-align:center;line-height:22px;height:56px}.cancellation[data-v-41bc988a]{margin-top:68px;margin-left:20px;margin-right:20px;background-color:#fff;width:280px;height:46px;border:1px solid #e85454;border-radius:24px;border-radius:24px}.confirm-cancellation[data-v-41bc988a]{margin-left:110px;margin-top:13px;font-family:PingFangSC-Regular;font-size:16px;color:#e85454;letter-spacing:0}",""]),e.exports=t},"67c4":function(e,t,a){"use strict";a.r(t);var n=a("8523"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},8523:function(e,t,a){"use strict";var n=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("e9fe"),i=n(a("7be6")),c=getApp(),r={data:function(){return{userInfo:{},phone:"",toggle:!1}},components:{},props:{},onLoad:function(){this.setData({userInfo:c.globalData.userProfile,phone:c.globalData.userInfo.phone}),uni.setNavigationBarTitle({title:"注销账户"})},methods:{handleCancellation:function(){this.setData({toggle:!0})},close:function(){this.setData({toggle:!1})},submit:function(){var e=this;i.default.log("| TUI-User-Center | cancel  | logout-cancellation"),uni.$TUIKit.logout().then((function(){(0,o.cancellation)({},(function(t){i.default.log("| TUI-User-Center | cancel  | cancellation |ok"),0===t.data.errorCode&&uni.getStorage({key:"path",complete:function(){uni.clearStorage(),c.globalData.resetLoginData(),uni.redirectTo({url:"../../TUI-Login/login",success:function(){uni.showToast({title:" 注销成功",icon:"none"})}}),e.close()}})}))}))}}};t.default=r},"94ff":function(e,t,a){var n=a("5da9");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=a("4f06").default;o("7558f97e",n,!0,{sourceMap:!1,shadowMode:!1})},e9fe:function(e,t,a){"use strict";var n=a("4ea4");a("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.login=u,t.fetchUserInfoByPhone=f,t.updateUserName=p,t.cancellation=g,t.MODE_CODE=t.MODE_TOKEN=void 0,a("96cf");var o=n(a("1da1")),i=n(a("5530")),c="mode_token";t.MODE_TOKEN=c;var r="mode_code";t.MODE_CODE=r;var s={baseURL:"https://service-c2zjvuxa-1252463788.gz.apigw.tencentcs.com",headers:{"content-type":"application/x-www-form-urlencoded"}},l=getApp();function u(e){var t,a=e.mode;return new Promise((function(n,o){t=a===c?{method:"login",token:e.token,phone:e.phone}:{method:"login",code:e.code,sessionID:e.sessionID},wx.request({url:"".concat(s.baseURL,"/release/sms"),data:t,success:function(e){l.globalData.userSig=e.data.data.userSig,l.globalData.userID=e.data.data.userId,n(e)},fail:function(e){o(e)}})}))}function f(e,t,a){wx.request({url:"".concat(s.baseURL,"/release/getUserInfo"),method:"POST",data:(0,i.default)({token:l.globalData.token},e),header:s.headers,success:function(e){t&&t(e)},fail:function(e){a&&a(e)}})}function p(e,t,a){return d.apply(this,arguments)}function d(){return d=(0,o.default)(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:wx.request({url:"".concat(s.baseURL,"/release/setNickname"),method:"POST",data:(0,i.default)({token:l.globalData.token},t),header:s.headers,success:function(e){a&&a(e)},fail:function(e){n&&n(e)}});case 1:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function g(e,t,a){return v.apply(this,arguments)}function v(){return v=(0,o.default)(regeneratorRuntime.mark((function e(t,a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:wx.request({url:"".concat(s.baseURL,"/release/sms"),data:(0,i.default)({method:"logout",token:l.globalData.userInfo.token,phone:l.globalData.userInfo.phone},t),header:s.headers,success:function(e){a&&a(e)},fail:function(e){n&&n(e)}});case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},f891:function(e,t,a){"use strict";var n=a("94ff"),o=a.n(n);o.a}}]);